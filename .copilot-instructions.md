# ü§ñ GitHub Copilot Instructions - MCP AI Prompts Management

> **Este projeto aplica princ√≠pios de Context Engineering e Progressive Context Enrichment**

## üß† Context Engineering Principles

Este projeto segue os princ√≠pios de:

- [Anthropic - Effective Context Engineering](https://www.anthropic.com/engineering/effective-context-engineering-for-ai-agents)
- [Inferable - Progressive Context Enrichment](https://www.inferable.ai/blog/posts/llm-progressive-context-encrichment)
- [Claude Skills Best Practices](https://platform.claude.com/docs/en/agents-and-tools/agent-skills/best-practices)
- [AGENTS.md Specification](https://agents.md/)

### Core Concepts

1. **Context is a Finite Resource** - Trate tokens como recurso precioso
2. **Progressive Disclosure** - Carregue contexto sob demanda, n√£o antecipadamente
3. **Minimal High-Signal Tokens** - Busque o menor conjunto de tokens que maximize resultados
4. **Just-in-Time Retrieval** - Mantenha identificadores leves, carregue dados em runtime

## üìã Workflow Obrigat√≥rio

### Antes de Qualquer Mudan√ßa

1. **Identifique o contexto**: Use MCP tool `identify_context` com file_path
2. **Consulte contratos**: Use MCP tool `get_contracts` para o contexto
3. **Valide c√≥digo**: Use MCP tool `validate_contract` antes de commit

### Antes de Criar Documenta√ß√£o

1. **Verifique duplica√ß√£o**: Use MCP tool `check_existing_documentation`
2. **Registre metadata**: Use MCP tool `manage_documentation` ap√≥s criar .md

### Ao Fazer Decis√µes Arquiteturais

1. **Registre decis√µes**: Use MCP tool `add_decision` com contexto e alternativas

## üõ†Ô∏è Stack do Projeto

- **backend**: Node.js + TypeScript
- **mcp**: @modelcontextprotocol/sdk
- **storage**: JSON file-based (com providers para cloud)

## üéØ Princ√≠pios de Design

### Context Engineering (Anthropic)

| Princ√≠pio                  | Aplica√ß√£o                                 |
| -------------------------- | ----------------------------------------- |
| **Compaction**             | Resumir contexto quando pr√≥ximo do limite |
| **Structured Note-Taking** | Usar NOTES.md para persistir progresso    |
| **Sub-agent Architecture** | Delegar tarefas focadas a sub-agentes     |
| **Tool Result Clearing**   | Limpar resultados de tools antigos        |

### Progressive Context Enrichment (Inferable)

| Princ√≠pio                   | Aplica√ß√£o                                  |
| --------------------------- | ------------------------------------------ |
| **Minimal Initial Context** | `list_prompts` retorna apenas metadata     |
| **On-Demand Loading**       | `get_prompt` busca conte√∫do completo       |
| **Filtered Retrieval**      | Suporte a filtros category/tags/search     |
| **Lightweight Identifiers** | IDs como refer√™ncias, conte√∫do sob demanda |

### Claude Skills Best Practices

| Princ√≠pio                          | Aplica√ß√£o                                  |
| ---------------------------------- | ------------------------------------------ |
| **Concise Descriptions**           | Tools com descri√ß√µes m√≠nimas e precisas    |
| **Appropriate Degrees of Freedom** | Flexibilidade calibrada por contexto       |
| **Progressive Disclosure**         | SKILL.md como √≠ndice, detalhes em arquivos |
| **Feedback Loops**                 | Valida√ß√£o ‚Üí Corre√ß√£o ‚Üí Repeti√ß√£o           |

## üîß Como Usar o MCP

| A√ß√£o                            | Tool MCP                       |
| ------------------------------- | ------------------------------ |
| Identificar contexto de arquivo | `identify_context`             |
| Listar contratos                | `get_contracts`                |
| Validar implementa√ß√£o           | `validate_contract`            |
| Verificar docs existentes       | `check_existing_documentation` |
| Registrar padr√£o                | `learn_pattern`                |
| Adicionar decis√£o               | `add_decision`                 |
| Registrar feature               | `register_feature`             |

## üìö Acesso R√°pido ao Contexto

Use o prompt MCP `project-context` para obter:

- Contratos cr√≠ticos do projeto
- Padr√µes aprendidos
- Decis√µes arquiteturais
- Guidelines globais

## üö´ Regras de Context Engineering

### Do's ‚úÖ

- Carregar contexto incrementalmente (progressive disclosure)
- Usar filtros para reduzir escopo de busca
- Manter tools com responsabilidade √∫nica
- Retornar dados m√≠nimos necess√°rios
- Documentar impacto de tokens em opera√ß√µes

### Don'ts ‚ùå

- Nunca carregar todos os prompts de uma vez
- Nunca criar tools com funcionalidade sobreposta
- Nunca incluir informa√ß√µes que o LLM j√° sabe
- Nunca criar documenta√ß√£o sem verificar duplica√ß√£o
- Nunca modificar contratos sem validar implementa√ß√µes

## üìÅ Arquivos de Contexto

| Arquivo                    | Prop√≥sito                                         |
| -------------------------- | ------------------------------------------------- |
| `AGENTS.md`                | Instru√ß√µes para AI coding agents (spec agents.md) |
| `CLAUDE.md`                | Mem√≥ria estruturada para Claude Code              |
| `.copilot-instructions.md` | Instru√ß√µes GitHub Copilot                         |
| `NOTES.md`                 | Notas de sess√£o (structured note-taking)          |

## üîÑ Long-Horizon Task Strategies

### Compaction

Quando contexto se aproxima do limite:

1. Resumir decis√µes arquiteturais
2. Preservar bugs n√£o resolvidos
3. Manter detalhes de implementa√ß√£o cr√≠ticos
4. Descartar outputs de tools redundantes

### Structured Note-Taking

Persistir em NOTES.md:

- Progresso atual da tarefa
- Decis√µes tomadas
- Pr√≥ximos passos
- Depend√™ncias identificadas

---

**Projeto**: mcp-ai-prompts | **MCP**: project-docs | **Spec**: agents.md
